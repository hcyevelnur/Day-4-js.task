<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 4 - Js Task</title>
    <link rel="stylesheet" href="https://kit.fontawesome.com/372df5dc70.css" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" type="image/x-icon" href="./img/Breaking-Bad-icon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-light bg-dark" style="height: 80px;">
        <div 
        style="padding-right: 100px;
        display: flex;
        justify-content: space-evenly;
        padding-left: 50px;" class="container-fluid">
          <a 
          style="
          color: white; 
          font-size: 40px;" class="navbar-brand">
          Movie Website
        </a>
          <form class="d-flex">
            <input 
            style="
            width: 400px;" class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success"><i class="fa fa-search"></i></button>
          </form>
          <a class="text-14" 
          style="
          color: white;
          text-decoration: none;" href="" data-replace="Home"><span>
            Home</span>
          </a>
          <a class="text-14" 
          style="
          color: white; 
          text-decoration: none;" href="./movie.html" data-replace="Movie"><span>
            Movie</span>
          </a>
          <a class="text-14" 
          style="
          color: white; 
          text-decoration: none;" href="#" data-replace="Actors"><span>
            Actors</span>
          </a>
          <a class="text-14" 
          style="
          color: white; 
          text-decoration: none;" href="#" data-replace="Contact"><span>
            Contact</span>
          </a>
        </div>
      </nav>
      <br>
      <br>
      <p class="text-12">
      Coming
      </p>
      <div 
      style="
      text-align:center;" 
      id="category-buttons">
        <button class="button-e" id="all-btn">
          All
        </button>
        <button class="button-e" id="drama-btn">
          Anime
        </button>
        <button class="button-e" id="comedy-btn">
          Adventure
        </button>
        <button class="button-e" id="action-btn">
          Action
        </button>
      </div>
      <br>
      <div class="gosteriss d-flex-2">
      </div>
      <br>
      <br>
      <div class="d-flex-1"
      id="button-container">
        <button 
        id="sil-btn" class="decrease buton-1-1">
        -
        </button>
        <div 
        class="number clas-1-1">
        0
        </div>
        <button 
        id="elave-et" class="increase buton-2-2">
        +
        </button>
      </div>
      <br>
      <script src="https://kit.fontawesome.com/372df5dc70.js" crossorigin="anonymous"></script></body>
      <script src="./js/main.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
      <script>
        // film bazasi

const filmlerr = [
  {
    ad: "Spider-man",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-9.jpg",
    category: "action",
  },
  {
    ad: "Fast & furious 10",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-10.jpeg",
    category: "comedy",
  },
  {
    ad: "Source Code",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-4.jpeg",
    category: "action",
  },
  {
    ad: "Suzume no tojimari",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-8.webp",
    category: "drama",
  },

  // hamsini gostermey ucun kodd

  {
    ad: "Spider-man",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-9.jpg",
    category: "all",
  },
  {
    ad: "Fast & furious 10",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-10.jpeg",
    category: "all",
  },
  {
    ad: "Source Code",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-4.jpeg",
    category: "all",
  },
  {
    ad: "Suzume no tojimari",
    description:
      "Some quick example text to build on the card title and make up the bulk of the card's content.",
    image: "./img/card-8.webp",
    category: "all",
  },
];
// film bazasi bitdi

const elaveet = document.querySelector("#elave-et");
const silbtn = document.querySelector("#sil-btn");
const gosteris = document.querySelector(".gosteriss");
//  - - - - - - - - - - - - - - - - - - - - - - - - - - - //
const allBtn = document.querySelector("#all-btn");
const actionBtn = document.querySelector("#action-btn");
const comedyBtn = document.querySelector("#comedy-btn");
const dramaBtn = document.querySelector("#drama-btn");

let kartlarifilteret = [];

function generateCards() {
  let cardsHTML = "";
  kartlarifilteret.forEach((film) => {
    cardsHTML += `
    <div class="card" style="width: 18rem;">
    <div>
        <img src="${film.image}" class="card-img-top" alt="${film.ad}">
      </div>
    <div style="text-align: center;" class="card-body">
      <h5 class="card-title">${film.ad}</h5>
      <p class="card-text">${film.description}</p>
      <a href="#" class="btn btn-primary">Go to IMGB</a>
    </div>
  </div>
    `;
  });
  gosteris.innerHTML = cardsHTML;
}

function filterFilms(category) {
  kartlarifilteret = filmlerr.filter((film) => film.category === category);
  generateCards();
  
  if (category === "all") {
    showButtons();
  } else {
    hideButtons();
  }
}

function hideButtons() {
  elaveet.style.display = "none";
  silbtn.style.display = "none";
  numberEl.style.display = "none";

}

function showButtons() {
  elaveet.style.display = "none";
  silbtn.style.display = "none";
  numberEl.style.display = "none";

}

allBtn.addEventListener("click", () => {
  filterFilms("all");
});

actionBtn.addEventListener("click", () => {
  filterFilms("action");
});

comedyBtn.addEventListener("click", () => {
  filterFilms("comedy");
});

dramaBtn.addEventListener("click", () => {
  filterFilms("drama");
});

elaveet.addEventListener('click', () => {
  if (kartlarifilteret.length >= 6) {
    elaveet.disabled = true;
    return;
  }

  let randomFilm;
  do {
    const randomFilmIndex = Math.floor(Math.random() * filmlerr.length);
    randomFilm = filmlerr[randomFilmIndex];
  } while (kartlarifilteret.includes(randomFilm));

  kartlarifilteret.push(randomFilm);
  generateCards();
  
  if (kartlarifilteret.length >= 6) {
    elaveet.disabled = true;
  }
});

silbtn.addEventListener('click', () => {
  if (kartlarifilteret.length === 0) {
    elaveet.disabled = false;
    return;
  }

  kartlarifilteret.pop();
  generateCards();
  
  if (kartlarifilteret.length < 4) {
    elaveet.disabled = false;
  }
  
  if (number <= minNumber) {
    decreaseBtn.disabled = true;
  }
});

generateCards();

// sayilarin bir bir artmasi

const numberEl = document.querySelector('.number');
const increaseBtn = document.querySelector('.increase');
const decreaseBtn = document.querySelector('.decrease');
const maxNumber = 6;
const minNumber = 0;

let number = 0;

increaseBtn.addEventListener('click', () => {
  number++;
  numberEl.textContent = number % filmlerr.length;
  decreaseBtn.disabled = false;
});

decreaseBtn.addEventListener('click', () => {
  number--;
  if (number < 0) {
    number = filmlerr.length - 1;
  }
  numberEl.textContent = number % filmlerr.length;
  
  if (number <= minNumber) {
    decreaseBtn.disabled = true;
  }
});
</script>
</body>
</html>